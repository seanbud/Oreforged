"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = require("../types");
const createStaticFacet_1 = require("./createStaticFacet");
it('allows reading, but not mutation', () => {
    const initialValue = {};
    const mock = (0, createStaticFacet_1.createStaticFacet)(initialValue);
    expect(mock.get()).toBe(initialValue);
    expect('set' in mock).toBe(false);
});
it('responds with the same value if you observe it and warns you in a non-production environment', () => {
    const update = jest.fn();
    const initialValue = {};
    const mock = (0, createStaticFacet_1.createStaticFacet)(initialValue);
    mock.observe(update);
    expect(update).toHaveBeenCalledTimes(1);
    expect(update).toHaveBeenCalledWith(initialValue);
    update.mockClear();
    mock.observe(update);
    expect(update).toHaveBeenCalledTimes(1);
    expect(update).toHaveBeenCalledWith(initialValue);
});
it('avoids triggering the listener if initialized with NO_VALUE', () => {
    const update = jest.fn();
    const initialValue = types_1.NO_VALUE;
    const mock = (0, createStaticFacet_1.createStaticFacet)(initialValue);
    mock.observe(update);
    expect(update).not.toHaveBeenCalled();
});
//# sourceMappingURL=createStaticFacet.spec.js.map